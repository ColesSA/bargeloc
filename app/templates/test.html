{% extends "base.html" %} 

{% block content %}
<div id="map" style="height: 500px;">hi</div>
</script>
<script type="text/javascript">
    var map;
    function newMarker(timestamp, latitude, longitude){
        return new google.maps.Marker({
            position: new google.maps.LatLng(latitude , longitude),
            map: map,
            title: "CMoG Glass Barge - " + timestamp
        });
    }

    function initMap() {
        map = new google.maps.Map(document.getElementById('map'), {
            center: { lat: 40.6956368611, lng: -74.0014109167 },
            zoom: 13
        });

        {% for location in locations %}
        newMarker({{ location.timestamp|tojson }}, {{ location.latitude|tojson }} , {{ location.longitude|tojson }});
        {% endfor %}
    }
</script>
<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDJsHty9TOmGII9BpYl7mxAFFLjcQlteZ4&callback=initMap"></script> 
{% endblock %}